<div id="top">
    <!--This section for Building Recovery Report-->
    <form novalidate #frmReportParams="ngForm" [formGroup]="form">
        <div class="grid grid-cols-7 gap-2">
            <div class="col-span-2">
            <dx-select-box [items]="partnerList$ | async" displayExpr="Name" valueExpr="Id" class="form-control" label="Partner"
                            [itemTemplate]="custPartnerTemplate" placeholder="Select Partner" lableMode="static" id="partner"
                            [formControlName]="'partnerId'" name="partner" (onValueChanged)="valueChanged($event, 'Partner')"
                            [searchEnabled]="true" searchExpr="Name" searchMode="contains" [searchTimeout]="400">
            </dx-select-box>
            </div>
            <div class="col-span-2">
            <dx-select-box [items]="buildingList$ | async" displayExpr="Name" valueExpr="BuildingId" class="form-control" label="Building"
                            [itemTemplate]="custBldTemplate" required placeholder="Select Building" lableMode="static" id="building"
                            [formControlName]="'buildingId'" name="building" (onValueChanged)="valueChanged($event, 'Building')"
                            [searchEnabled]="true" searchExpr="Name" searchMode="contains" [searchTimeout]="400">
            </dx-select-box>
            </div>
            <div class="col-span-3">
                <div class="flex w-full gap-x-2">
                    <div class="flex flex-col w-1/2">
                        <dx-select-box [items]="periodList$ | async" displayExpr="PeriodName" valueExpr="PeriodId" class="form-control" label="Start Period"
                                        [itemTemplate]="custPeriodTemplate" required placeholder="Select Start Period" lableMode="static" id="startPeriod"
                                        [formControlName]="'startPeriodId'" name="StartPeriod" (onValueChanged)="valueChanged($event, 'StartPeriod')"
                                        [searchEnabled]="true">
                        </dx-select-box>
                    </div>
                    <div class="flex flex-col w-1/2">
                        <dx-select-box [items]="endPeriodList$ | async" displayExpr="PeriodName" valueExpr="PeriodId" class="form-control" label="End Period"
                                        [itemTemplate]="custPeriodTemplate" required placeholder="Select End Period" lableMode="static" id="endPeriod"
                                        [formControlName]="'endPeriodId'" name="endPeriod" (onValueChanged)="valueChanged($event, 'EndPeriod')"
                                        [searchEnabled]="true">
                        </dx-select-box>
                    </div>
                </div>
            </div>
            <div class="col-span-2">
            <dx-select-box [items]="recoveriesItems" displayExpr="name" valueExpr="id" class="form-control" label="Recoveries"
                required placeholder="Select option" lableMode="static" id="recoveries"
                [formControlName]="'Recoveries'" (onValueChanged)="valueChanged($event, 'Recoveries')"
                [searchEnabled]="true">
            </dx-select-box>
            </div>
            <div class="col-span-2">
                <dx-select-box [items]="expenseItems" displayExpr="name" valueExpr="id" class="form-control" label="Expense"
                    required placeholder="Select option" lableMode="static" id="expense"
                    [formControlName]="'Expenses'" (onValueChanged)="valueChanged($event, 'Expenses')"
                    [searchEnabled]="true">
                </dx-select-box>
            </div>
            <div class="col-span-3">
                <div class="flex w-full gap-x-2">
                    <div class="flex flex-col w-1/2">
                        <dx-select-box [items]="serviceTypeItems" displayExpr="name" valueExpr="id" class="form-control" label="Service Type"
                            required placeholder="Select option" lableMode="static" id="allTenants"
                            [formControlName]="'ServiceType'" (onValueChanged)="valueChanged($event, 'ServiceType')"
                            [searchEnabled]="true">
                        </dx-select-box>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex gap-2 flex-wrap mt-2" [formGroupName]="'visible'">
            <ng-container *ngFor="let item of visibleItems; let i = index;">
                <div class="flex items-center min-w-44">                    
                    <mat-checkbox [color]="'primary'" [formControl]="getVisibleControl(i, item.key)" (change)="valueChanged($event, 'Visible')"></mat-checkbox>
                    <span class="text-md">{{item.name}}</span>
                </div>
            </ng-container>
            
        </div>
    </form>
  
  </div>
  
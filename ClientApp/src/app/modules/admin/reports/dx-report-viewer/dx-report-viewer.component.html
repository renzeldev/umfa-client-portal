
<div class="alert alert-danger" *ngIf="localErrMsg$ | async as err" style="margin: 30px 0px 0px 0px">
    {{ err }}
</div>
  
<!-- <div style="min-height: 90vh;">
    <div class="row" style="box-shadow: -3px -36px 14px -29px rgba(0,0,0,0.41) inset; padding: 30px 0 20px 0;">
        <div class="row">
            <div class="col-3" style="padding-right: 0 !important;"><report-selection></report-selection></div>
            <div class="col-9" style="padding: 0 !important;"><report-criteria></report-criteria></div>
        </div>
        <div class="row" style="margin-top: 10px; width: 95%; margin-left: 30px; padding: 0;">
            <button class="btn btn-primary mr-1" type="button"
                    [title]="(frmsValid) ? 'Show Report' : 'Disabled until the criteria is valid'"
                    [disabled]="!frmsValid && !params" (click)="showReport($event);">
            {{ frmsValid ? 'Show Report' : 'Disabled until the criteria is valid' }}
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col"><report-result></report-result></div>
    </div>
</div> -->
<div class="flex flex-col flex-auto min-w-0">
    <div class="flex flex-col w-full mx-auto py-2 px-4 sm:px-4 bg-card border-b">
        <div class="flex grid grid-cols-10 gap-2">
            <div class="col-span-2">
                <report-selection [reportList]="(reportList$ | async)" [reportId]="buildingReportId"></report-selection>
            </div>
            <div class="col-span-7">
                <report-criteria *ngIf="reportId == 1" [buildingId]="buildingId" [partnerId]="partnerId"></report-criteria>
                <report-criteria-shop *ngIf="reportId == 2 || reportId == 3" [reportId]="reportId" [buildingId]="buildingId" [partnerId]="partnerId"></report-criteria-shop>
                <report-criteria-utility *ngIf="reportId == 4" [buildingId]="buildingId" [partnerId]="partnerId"></report-criteria-utility>
                <report-criteria-consumption *ngIf="reportId == 5" [buildingId]="buildingId" [partnerId]="partnerId"></report-criteria-consumption>
                <report-criteria-consumption-recon *ngIf="reportId == 6" [buildingId]="buildingId" [partnerId]="partnerId"></report-criteria-consumption-recon>
            </div>
            <div class="col-span-1 flex items-end">
                <button mat-raised-button [color]="'primary'" type="button"
                    [title]="(frmsValid) ? 'Show Report' : 'Disabled until the criteria is valid'"
                    class="dnm-btn dnm-btn-primary"
                    [disabled]="!formValid"
                    (click)="showReport($event);">Show Report</button>
            </div>
        </div>
    </div>
    <div class="flex w-full h-full">
        <report-result class="w-full" *ngIf="reportId == 1"></report-result>
        <report-result-shop *ngIf="reportId == 2" class="w-full"></report-result-shop>
        <report-result-shop-cost *ngIf="reportId == 3" class="w-full"></report-result-shop-cost>
        <report-result-utility *ngIf="reportId == 4" class="w-full"></report-result-utility>
        <report-result-consumption *ngIf="reportId == 5" class="w-full"></report-result-consumption>
        <report-result-consumption-recon *ngIf="reportId == 6" class="w-full"></report-result-consumption-recon>
    </div>
</div>